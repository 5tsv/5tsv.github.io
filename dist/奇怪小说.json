[
  {
    "bookSourceComment": "/*\nversion: 2025.0402\n完善发现,添加搜索接口by河鹅和\n优化搜索发现\n目录乱序修复by折木\n目录乱序修复可通过设置书籍变量来开启，默认关闭\n发现添加最新入库，需要先登录构造本地数据\n添加本地搜索，可通过构造的本地数据进行搜索，在搜索关键词前加上name:,id:,author:,tags:即可指定搜索类型，默认为搜索书名，例子：author:佚名\n当前支持类型有author,category,id,intro,name,pornrate,score,status,tags,update,word,all，分别是搜索作者,分类,书ID,简介,书名,肉量,评分,状态,标签,更新,字数,全部\n发现自动添加书籍到本地数据\n本地搜索支持正则，例：id:^95[5-9]\\d$、all:(白天|黑夜)\n添加更多排序选择\n添加设置每次并发数\n2025.01.31 修改本地数据保存方法，不再保存到源变量\n02.01 优化目录乱序修复\n02.04 优化本地数据保存，将数据切分每50万个字符保存，数据网络导出最大为10M，超过10M请使用本地导出\n02.05 优化生成发现方法\n02.23 优化本地导入，现在本地导入支持非阅读缓存路径了，需要以/storage开头\n02.24 添加直链上传选项，可以将直链规则填到直链上传规则，然后使用直链上传了\n02.25 添加对直链上传规则是否压缩的支持，现在可以通过修改直链规则中的compress项为true，即可通过直链导出为zip文件，并且支持阅读缓存相对路径下的zip文件和网络zip文件数据的导入\n02.26 优化解析直链上传规则downloadUrlRule\n03.01 添加一键更新\n03.20 添加目录和正文本地化，可通过修改jslib的dataPath来选择保存路径，阅读版本小于3.23.1102的不确定能否正常使用，不能正常使用请回退到0301版书源\n03.21 添加正文缓存到本地\n03.28 修复因为新功能导致目录乱序修复失败的问题\n04.02 添加更换域名的功能，支持切换到同库同模板的网站，默认为https://www.aahhss.com\n*/\napi = [\n`https://www.aaccnn.com/e/search/,{\n  \"body\": \"keyboard=${key}\",\n  \"method\": \"POST\"\n}`,\n`https://www.aahhss.com/e/search/,{\n  \"body\": \"keyboard=${key}\",\n  \"method\": \"POST\"\n}`,\n`https://www.aakkrr.com/book/${key}<,/${page}>`,\ntoDataUrl(key,page-1)]\nv = String(checkData()['api'])\nresult = api[v.match(/^\\d+$/)?v:2]",
    "bookSourceName": "奇怪小说",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.aahhss.com",
    "bookUrlPattern": "https?:\\/\\/www.aa(hhss|ccnn|qqcc|hhqq).com\\/book\\/\\d+\\/?",
    "customOrder": 474,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "@js:\nexpl = []\npush = (title, url, type) => expl.push({\n\ttitle: title,\n\turl: url,\n\tstyle: {\n\t\tlayout_flexGrow: 1,\n\t\tlayout_flexBasisPercent: type\n\t}\n})\n// 默认一行3个发现项\nflex = 0.25\n// 获取数据\n$ = checkData()\nif ($.isLocal) {\n\t// 本地发现\n\tcategorys = new Set()\n\ttags = new Set()\n\tstatus = new Set()\n\tpornrate = new Set()\n\tscore = new Set()\n\t\n\t// 提取分类、标签、状态、肉量和评分\n\tfor (let bookId in $.books) {\n\t\tlet book = $.books[bookId]\n\t\tif (book.category) {\n\t\t\tbook.category.forEach(cat => categorys.add(cat))\n\t\t}\n\t\tif (book.tags) {\n\t\t\tbook.tags.forEach(tag => tags.add(tag))\n\t\t}\n\t\tif (book.status) {\n\t\t\tstatus.add(book.status)\n\t\t}\n\t\tif (book.pornrate) {\n\t\t\tpornrate.add(book.pornrate.replace(/[\\d.\\(\\)%]/g, \"\"))\n\t\t}\n\t\tif (typeof book.score === 'number') {\n\t\t\tscore.add(String(book.score).replace(/\\.\\d+/, \"\"))\n\t\t}\n\t}\n\tdata = [\n\t\t{\n\t\t\t\"title\": `📊排行(当前按${$.sortType==\"pornrate\"?\"肉量\":($.sortType==\"score\"?\"评分\":($.sortType==\"word\"?\"字数\":($.sortType==\"update\"?\"更新\":\"ID\")))}${$.order?\"⬆️正\":\"⬇️倒\"}序排列)`,\n\t\t\t\"titleUrl\": \"\",\n\t\t\t\"urlPattern\": \"{{toDataUrl('id:',page-1,'<key>')}}\",\n\t\t\t\"titles\": [[\"🕒ID\", \"id\"], [\"💗肉量\", \"pornrate\"], [\"💯评分\", \"score\"], [\"🎖️更新\", \"update\"], [\"📃字数\", \"word\"]]\n\t\t},\n\t\t{\n\t\t\t\"title\": `📚分类`,\n\t\t\t\"titleUrl\": \"\",\n\t\t\t\"urlPattern\": \"{{toDataUrl('category:<key>',page-1)}}\",\n\t\t\t\"titles\": Array.from(categorys)\n\t\t},\n\t\t{\n\t\t\t\"title\": `🔖标签`,\n\t\t\t\"titleUrl\": \"\",\n\t\t\t\"urlPattern\": \"{{toDataUrl('tags:<key>',page-1)}}\",\n\t\t\t\"titles\": Array.from(tags)\n\t\t},\n\t\t{\n\t\t\t\"title\": `🎐状态`,\n\t\t\t\"titleUrl\": \"\",\n\t\t\t\"urlPattern\": \"{{toDataUrl('status:<key>',page-1)}}\",\n\t\t\t\"titles\":Array.from(status)\n\t\t},\n\t\t{\n\t\t\t\"title\": `💗肉量`,\n\t\t\t\"titleUrl\": \"\",\n\t\t\t\"urlPattern\": \"{{toDataUrl('pornrate:^([\\\\\\\\d.%]+\\\\\\\\()?<key>\\\\\\\\)?',page-1)}}\",\n\t\t\t\"titles\": Array.from(pornrate)\n\t\t},\n\t\t{\n\t\t\t\"title\": `💯评分`,\n\t\t\t\"titleUrl\": \"\",\n\t\t\t\"urlPattern\": \"{{toDataUrl('score:^<key>(\\\\\\\\.\\\\\\\\d+)?$',page-1)}}\",\n\t\t\t\"titles\": Array.from(score).sort((a, b) => a - b)\n\t\t}\n\t]\n\t// 过滤没有标签的项\n\tdata = data.filter(d => d.titles.length>0)\n}else{\n\t// 使用在线发现\n\tdata=JSON.parse(java.base64Decode(\"W3sidGl0bGUiOiLwn4+g6aaW6aG1IiwidGl0bGVVcmwiOiIvIiwidGl0bGVzIjpbXX0seyJ0aXRsZSI6IvCfk5rliIbnsbsiLCJ0aXRsZVVybCI6IiIsInVybFBhdHRlcm4iOiIvY2F0ZWdvcnkvPGluZGV4Pi97e3BhZ2UtMX19IiwidGl0bGVzIjpbIuagoeWbreaYpeiJsiIsIuWutuW6reS5seS8piIsIumDveW4gua/gOaDhSIsIuWQjOS6uuaUuee8liIsIuezu+e7n+W8guiDvSIsIuepv+i2iumHjeeUnyIsIuS4nOaWueeOhOW5uyIsIuilv+aWuemtlOW5uyIsIuS5oeadkeeIseaDhSIsIuenkeWtpuW5u+aDsyIsIuWoseS5kOaYjuaYnyIsIue7j+WFuOatpuS+oCIsIuWOhuWPsuaetuepuiIsIui0pOiAheWwj+ivtCIsIuW8uuWluOi9ruWluCIsIueOhOW5uyIsIuepv+i2iiIsIumDveW4giIsIuWlh+W5uyIsIuS5seS8piIsIuagoeWbrSIsIuWOhuWPsiIsIuWQjOS6uiIsIuezu+e7nyIsIuenkeW5uyIsIuatpuS+oCIsIuaYjuaYnyIsIuS5oeadkSJdfSx7InRpdGxlIjoi8J+Uluagh+etviIsInRpdGxlVXJsIjoiIiwidXJsUGF0dGVybiI6Ii90YWcvPGluZGV4Pi97e3BhZ2UtMX19IiwidGl0bGVzIjpbIumqqOenkSIsIuWJp+aDhSIsIue6r+eIsSIsIuaXoOe7vyIsIuWPjeW3riIsIueGn+WlsyIsIuiwg+aVmSIsIua3q+WglSIsIuS6uuWmuyIsIueUnOaWhyIsIumAguWQiOWls+eUnyIsIjF2MSIsIua1qua8qyIsIuWQjuWuqyIsIueIveaWhyIsIue+pOS6pCIsIueMjuiJsyIsIuebruWJjeeKryIsIuiCieS+v+WZqCIsIlNNIiwi5o2G57uRIiwi5byC5LiW55WMIiwi56eN6amsIiwi5q+N5a2QIiwi56eN55SwIiwi5Y+X5a2VIiwiTlRMIiwi5q+N5aWz6IqxIiwi5oCn5aW0Iiwi6YGT5YW3Iiwi54G15byCIiwi6Zyy5Ye6Iiwi55e05aWzIiwi5qCh6IqxIiwi55m+5ZCIIiwi5aWz5oCn6KeG6KeSIiwiU0MiLCLlpb3mlofnrJQiLCLkuJ3oopwiLCLnpZ7osaoiLCLlrpjlnLoiLCLniLblpbMiLCLpgIbmjqgiLCLlsI/pqazmi4nlpKfovaYiLCLlvq7ph43lj6MiLCLmiYvmnqrmlociLCLmgYvotrMiLCLlhajlrrbmobYiLCLlj5joo4UiLCLlp5DlprnoirEiLCJOUCIsIuiQneiOiSIsIuWItuacjSIsIuW/q+epvyIsIumHjeWPoyIsIk5UUiIsIuWCrOecoCIsIuWHjOi+sSIsIuW8guWbvSIsIuWqmum7kSIsIuiZkOS4uyIsIuWHuui9qCIsIui2s+S6pCIsIuW8uuWluCIsIueLl+ihgCIsIue7j+WFuCIsIuamqOeyviIsIue7v+avjSIsIkZ1dGEiLCLmmpfpu5EiLCLmnKvkuJYiLCLmlLnpgKAiLCLkuqflpbYiLCLmt6vlprsiLCLomZDlv4MiLCLlpI3ku4ciLCLlvq7ogokiLCLnoLTlpIQiLCLmmrTomZAiLCLnm5HnpoEiLCLmgKfovawiLCJCRSIsIumakOWluCIsIuiNr+eJqSIsIuaJqeW8oCIsIuW8guenjeaXjyIsIuS6uuWFvSIsIuS8quWomCIsIuS6pOaNouS8tOS+oyIsIuiAvee+jiIsIueXheWohyIsIuWFrOWqsyIsIueyl+WPoyIsIkhFIiwi5pCe56yRIiwi5Lq65aaWIiwi6Kem5omLIiwi6ICB5biIIiwi5pq06ZyyIiwi576kUCIsIuWQjOS6uiIsIumAhk5UUiIsIue7v+WltCIsIuS4i+WFi+S4iiIsIueZveiZjiIsIuacieeItiIsIue6ouW4vSJdfSx7InRpdGxlIjoi8J+TiuaOkuihjCIsInRpdGxlVXJsIjoiIiwidXJsUGF0dGVybiI6Ii90b3AvPGtleT4ve3twYWdlPT0xPycnOidpbmRleF8nK3BhZ2UrJy5odG1sJ319IiwidGl0bGVzIjpbWyLkurrmsJTmjpLooYwiLCJob3QiXSxbIuaUtuiXj+aOkuihjCIsImNvbGxlY3QiXSxbIueDremXqOWFqOacrCIsIndhbmJlbiJdLFsi6IKJ6YeP5o6S6KGMIiwicG9ybnJhdGUiXSxbIuivhOWIhuaOkuihjCIsInNjb3JlIl0sWyLmnIDmlrDlsI/or7QiLCJuZXciXV19XQ==\"))\n}\n// 构造发现数组\ndata.forEach(o => {\n\tpush(o.title, o.titleUrl, 1)\n\tlet flexBasisPercent = flex\n\tlet flag = true\n\tif(o.titles.length == 2 || o.titles.length == 4) {\n\t\tflexBasisPercent=0.4\n\t\tflag=false\n\t}\n\to.titles.map((t, index) => {\n\t\tt = Array.isArray(t) ? t : [t]\n\t\tpush(String(t[0]).replace(/^(超多肉)$/,\"$1(>=60%)\").replace(/^(多肉)$/,\"$1(40%~60%)\").replace(/^(中肉)$/,\"$1(20%~40%)\").replace(/^(少肉)$/,\"$1(<20%)\"), o.urlPattern.replace(/<index>/,index+1).replace(/<key>/,t[t.length-1]), flexBasisPercent)\n\t})\n\tif (flag) {\n\t\tArray.from({ length: [0, 2, 1][o.titles.length % 3] }, () => push(\"\", \"\", flexBasisPercent))\n\t\t}\n})\njava.toast(`\\n✅发现刷新成功✅\\n共${expl.filter(e=>e.url!=\"\").length}个类别`)\nJSON.stringify(expl)",
    "header": "{\n\t\"User-Agent\": \"Mozilla/5.0 (Linux; Android 8.0.0; MI 5s Plus Build/OPR1.170623.032; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.99 Mobile Safari/537.36\"\n}",
    "jsLib": "var dataDefaultPath=\"/storage/emulated/0/Documents/legado/sourceData/aahhss.com\"\nvar defaultSourceKey=\"https://www.aahhss.com\"\n// 读取并返回数据\nfunction checkData(_) {\n\tconst { java, source, cache } = _ || this\n\tjava.log(\"checkData()\")\n\tconst vName = `sourceVariable_${source.getKey()}`\n\tlet temp\n\ttry {\n\t\ttemp = []\n\t\tCode=\"\"\n\t\tckList=[\"tag\",\"key\",\"bookSourceComment\"]\n\t\tckList.forEach(k=>Code+=source[k])\n\t\tif (java.digestHex(Code,\"SHA256\")!=\"d4349383982f8ee55b7e20144ee4539a21541d6caa3594e9a9bc5368e2fbdbf6\"||String(source.ruleBookInfo.init).length<3500){\n\t\t\ttip=\"请勿要乱改源注释、源URL、源名称\"\n\t\t\tjava.toast(tip)\n\t\t\tsleep(800)\n\t\t\tthrow new Error(tip)\n\t\t}\n\t\t// 尝试从缓存中分段读取数据\n\t\tfor (let i = 0; i < cache.get(`${vName}_iLength`);) {\n\t\t\ttemp.push(cache.get(`${vName}_${i}`))\n\t\t\ti += 500000\n\t\t}\n\t\ttemp = temp.join(\"\")\n\t\t// 如果没有数据，尝试从缓存文件或源变量中获取\n\t\tif (!temp || temp == \"\") {\n\t\t\ttemp = cache.getFile(vName) || cache.get(vName)\n\t\t}\n\t\t// 解析 JSON 数据\n\t\tconst $ = JSON.parse(temp)\n\t\t// 验证数据结构\n\t\tif (typeof $.books != 'object') {\n\t\t\tthrow new Error(\"错误数据\")\n\t\t}\n\t\treturn $\n\t} catch (e) {\n\t\tjava.log(`function checkData Error:${e}`)\n\t\treturn reset(false, false, this)\n\t}\n}\n// 保存数据\nfunction setv(json, _, isString) {\n\tconst { java, source, cache } = _ || this\n\tconst vName = `sourceVariable_${source.getKey()}`\n\tjava.log(\"setv()\")\n\t// 如果输入不是字符串，则将其转换为 JSON 字符串\n\tif (!isString) {\n\t\tjson = JSON.stringify(json)\n\t}\n\tjava.logType(json)\n\tjava.log(`json length: ${json.length}`)\n\t// 记录数据的长度\n\tcache.put(`${vName}_iLength`, json.length, 0)\n\t// 分段存储数据\n\tfor (let i = 0; i < json.length;) {\n\t\tcache.put(`${vName}_${i}`, json.slice(i, i += 500000), 0)\n\t}\n}\n// 重置数据\nfunction reset(check, showTip, _) {\n\tconst { java, source, cache } = _ || this\n\tlet vName = String(`sourceVariable_${source.getKey()}`)\n\tjava.log(\"reset()\" + check + showTip)\n\tif (check) {\n\t\ttry {\n\t\t\tcheck = java.getVerificationCode(checkImg)\n\t\t} catch (e) {}\n\t} else {\n\t\tcheck = \"y\"\n\t}\n\tif (check == \"y\") {\n\t\tlet $ = {\n\t\t\tapi: 2,\n\t\t\ttime: 20250319,\n\t\t\tlastestId: 13133,\n\t\t\tsum: 50,\n\t\t\tisLocal: false,\n\t\t\torder: false,\n\t\t\terrorIds: [],\n\t\t\tsortType: \"\",\n\t\t\tconcurrency: 1,\n\t\t\tbooks: {}\n\t\t}\n\t\tfor (i = 0; i < cache.get(`${vName}_iLength`);) {\n\t\t\tcache.delete(`${vName}_${i}`)\n\t\t\ti += 500000\n\t\t}\n\t\tcache.delete(vName)\n\t\tcache.delete(`${vName}_iLength`)\n\t\tsetv($, _ || this)\n\t\tif (showTip) {\n\t\t\tjava.toast('\\n✅重置成功，请重新构造本地数据')\n\t\t}\n\t\treturn $\n\t} else {\n\t\tjava.toast(\"\\n❎用户取消重置❎\")\n\t}\n}\n\nfunction getl(arr, page) {\n\treturn arr.slice(page * 500, (+page + 1) * 500)\n}\n\nfunction toDataUrl(key, page, sortType) {\n\tlet data = [key, page, sortType]\n\treturn `data:;base64,${this.java.base64Encode(data.join(\"|==|\"))},{\"type\":\"\"}`\n}\n\nfunction sleep(t) {\n\tPackages.java.lang.Thread.sleep(t)\n}\n\nfunction createRegExp(input) {\n\tconst flagsRegex = /\\(\\?([igm]*)\\)(?!\\))/g;\n\tlet flags = '';\n\tlet pattern = input;\n\tlet match;\n\twhile ((match = flagsRegex.exec(input)) !== null) {\n\t\tflags += match[1];\n\t\tpattern = pattern.substring(0, match.index) + pattern.substring(match.index + match[0].length);\n\t}\n\treturn new RegExp(pattern, flags);\n}\n\nfunction getSortValue(book, type) {\n\tlet data = book[type]\n\tlet value\n\tswitch (type) {\n\t\tcase 'pornrate':\n\t\t\tvalue = data.split(\"%\")[0]\n\t\t\tbreak;\n\t\tcase 'update':\n\t\t\tvalue = parseInt(data.replace(/-/g, \"\"))\n\t\t\tbreak;\n\t\tcase 'word':\n\t\t\tm = data.match(/[^\\d.]+/)\n\t\t\tf = 1\n\t\t\tif (m && /k/i.test(m)) {\n\t\t\t\tf = 1000\n\t\t\t} else if (m && /m/i.test(m)) {\n\t\t\t\tf = 1000000\n\t\t\t}\n\t\t\tvalue = Number(data.match(/[\\d.]+/)) * f\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tvalue = data\n\t}\n\treturn value\n}\n\nfunction spArr(arr, num) {\n\tlet newArr = []\n\tfor (let i = 0; i < arr.length;) {\n\t\tnewArr.push(arr.slice(i, i += num))\n\t}\n\treturn newArr\n}\n\nvar okhttpImport = new JavaImporter();\nokhttpImport.importPackage(\n\tPackages.okhttp3,\n\tPackages.java.lang,\n\tPackages.java.io,\n\tPackages.java.util.zip,\n\tPackages.cn.hutool.core.io,\n\tPackages.io.legado.app.model.analyzeRule\n);\nwith(okhttpImport) {\n\tclient = new OkHttpClient();\n\tfunction postMultipart(url, data, type, filename, _) {\n\t\tconst { source } = _ || this;\n\t\tvar mediaType = MediaType.parse(type);\n\t\tvar requestBody = RequestBody.create(data, mediaType);\n\t\tvar multipartBody = new MultipartBody.Builder()\n\t\t\t.setType(MultipartBody.FORM)\n\t\t\t.addFormDataPart(\"file\", filename, requestBody)\n\t\t\t.build();\n\t\tvar request = new Request.Builder()\n\t\t\t.url(url)\n\t\t\t.post(multipartBody)\n\t\t\t.addHeader(\"User-Agent\", source.getHeaderMap(false)[\"User-Agent\"])\n\t\t\t.build();\n\t\tvar response = client.newCall(request).execute();\n\t\ttry {\n\t\t\t// 处理响应\n\t\t\tvar responseBody = response.body().string();\n\t\t\treturn responseBody;\n\t\t} finally {\n\t\t\tresponse.close();\n\t\t}\n\t}\n\n\tfunction upload(data, rule, filename, _) {\n\t\tconst { java } = _ || this;\n\t\tfilename = filename || \"bookSource.json\";\n\t\ttype = \"application/json; charset=utf-8\";\n\t\tif (rule.compress) {\n\t\t\tbytesdata = new Packages.java.lang.String(data).getBytes(\"UTF-8\");\n\t\t\ttype = \"application/zip; charset=utf-8\";\n\t\t\tvar byteOut = new ByteArrayOutputStream();\n\t\t\tlet zipOut = new ZipOutputStream(byteOut);\n\t\t\tlet entry = new ZipEntry(filename);\n\t\t\tzipOut.putNextEntry(entry);\n\t\t\tzipOut.write(bytesdata);\n\t\t\tzipOut.closeEntry();\n\t\t\tzipOut.finish();\n\t\t\tfilename += \".zip\";\n\t\t\tdata = byteOut.toByteArray();\n\t\t}\n\t\tlet resp = postMultipart(rule.url, data, type, filename, _ || this);\n\t\tlet analyzeRule=AnalyzeRule().setContent(resp, rule.url)\n\t\treturn analyzeRule.getString(rule.downloadUrlRule)\n\t}\n\tfunction createFile(content,path,_) {\n\t\tdataPath = getInfo.call(_ || this)[\"数据目录\"]||dataDefaultPath\n\t\treturn FileUtil.writeUtf8String(content,dataPath+path)\n\t}\n\tfunction readFile(path,_){\n\t\tdataPath = getInfo.call(_ || this)[\"数据目录\"]||dataDefaultPath\n\t\treturn FileUtil.readUtf8String(dataPath+path)\n\t}\n\tfunction exist(path, _){\n\t\tdataPath = getInfo.call(_ || this)[\"数据目录\"]||dataDefaultPath\n\t\treturn FileUtil.exist(dataPath+path)\n\t}\n\tfunction mkdir(path, _){\n\t\tdataPath = getInfo.call(_ || this)[\"数据目录\"]||dataDefaultPath\n\t\tFileUtil.mkdir(dataPath+path)\n\t}\n}\n\nfunction getInfo() {\n\treturn JSON.parse(this.source.getLoginInfo()||\"{}\")\n}\n\nfunction getSourceKey(_){\n\tlet origin = getInfo.call(_ || this)['域名']\n\treturn getOrigin(origin||defaultSourceKey)\n}\n\nfunction getOrigin(url){\n\tlet mUrl=Packages.java.net.URL(url)\n\treturn `${mUrl.protocol}://${mUrl.host}${mUrl.port>0?`:${mUrl.port}`:\"\"}`\n\t}\nfunction analyzeDirectLinkUploadRule(str){\n\tlet rule=JSON.parse(str)\n\trule.url=rule.uploadUrl.split(\",\")[0]\n\tdownloadJs=rule.downloadUrlRule.replace(/@js:|<\\/?js>/g,\"\\n\")\n\tif (downloadJs.startsWith(\"$\")){\n\t\tdownloadJs=downloadJs.replace(/(\\$.+)/,'result=Packages.com.jayway.jsonpath.JsonPath.read(resp,\"$1\")')\n\t} \n\trule.downloadJs=downloadJs\n\treturn rule\n}\n\ncheckImg = \"data:image/png;base64,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\"",
    "lastUpdateTime": 1743643734584,
    "loginUi": "[\n\t{\n\t\t\"name\": \"获取数目\",\n\t\t\"type\": \"text\"\n\t},\n\t{\n\t\t\"name\": \"并发数\",\n\t\t\"type\": \"text\"\n\t},\n\t{\n\t\t\"name\": \"⚙️设置获取数目⚙️\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"sum=(Number(result.获取数目)||50);setInfo('获取数目',sum);saveProgress('\\\\n✅成功设置获取数目为'+setData('sum',sum))\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"  ⚙️设置并发数⚙️  \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"concurrency=(Number(result.并发数)||1);setInfo('并发数',concurrency);saveProgress('\\\\n✅成功设置并发数为'+setData('concurrency',concurrency))\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"                      💡显示当前设置💡                      \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"v=checkData();java.toast('\\\\n当前搜索接口:'+sN(String(v['api']).match(/^[0-9]+$/)?v['api']:2)+'\\\\n当前设置获取数目:'+v['sum']+'\\\\n当前并发数:'+(v['concurrency']||1)+'\\\\n当前最新bookid:'+v['lastestId']+'\\\\n当前域名:'+getSourceKey()+'\\\\n当前发现模式:'+(v.isLocal?'本地':'在线')+'\\\\n当前本地数据顺序:按'+(v.sortType?((v.sortType=='pornrate')?'肉量':((v.sortType=='score')?'评分':((v.sortType=='word')?'字数':((v.sortType=='update')?'更新':'ID')))):'ID')+(v.order?'正':'倒')+'序排列\\\\n本地数据更新时间:'+v['time']+'\\\\n本地数据数目:'+Object.keys(v.books).length)\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 1\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"⏳构造本地数据⌛\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"setLocal()\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"⚠️重置本地数据⚠️\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"reset(true,true)\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"❎结束构造数据❎\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"source.put('isEnd',1)\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"◀️查看当前进度▶️\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"p=source.get('progress');String(p)?java.toast(p):java.toast('\\\\n❎当前无进度')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"🧭切换发现模式🧭\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"v=checkData();setData('isLocal',!v.isLocal,v);saveProgress('\\\\n✅成功将发现切换为'+(v.isLocal?'本地':'在线')+'模式，请刷新')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 0,\n\t\t\t\"layout_flexBasisPercent\": 0.46\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"⭐一键更新书源⭐\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"updateSource()\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"                  ⚙️切换数据顺序(默认按ID排序)⚙️                  \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"v=checkData();java.toast('\\\\n✅当前本地数据顺序为：\\\\n按'+(v.sortType?((v.sortType=='pornrate')?'肉量':((v.sortType=='score')?'评分':((v.sortType=='word')?'字数':((v.sortType=='update')?'更新':'ID')))):'ID')+(v.order?'正':'倒')+'序排列')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 1\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"  ⬆️🆔⬇️  \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"saveProgress('\\\\n✅成功将本地数据顺序切换为\\\\n按ID'+(setData('sortType','id').order?'正':'倒')+'序排列')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.25\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"💗肉量💗\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"saveProgress('\\\\n✅成功将本地数据顺序切换为\\\\n按肉量'+(setData('sortType','pornrate').order?'正':'倒')+'序排列')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.25\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"💯评分💯\",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"saveProgress('\\\\n✅成功将本地数据顺序切换为\\\\n按评分'+(setData('sortType','score').order?'正':'倒')+'序排列')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.25\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"        🎖️更新🎖️        \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"saveProgress('\\\\n✅成功将本地数据顺序切换为\\\\n按更新'+(setData('sortType','update').order?'正':'倒')+'序排列')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"        📃字数📃        \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"saveProgress('\\\\n✅成功将本地数据顺序切换为\\\\n按字数'+(setData('sortType','word').order?'正':'倒')+'序排列')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"                      ⚙️设置搜索接口⚙️                      \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"java.toast('\\\\n点击下面按钮即可设置')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 1\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"0⃣️：aaccnn(失效)  \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"setData('api',0);saveProgress('\\\\n成功设置接口0⃣️')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"1⃣️：aahhss(失效)  \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"setData('api',1);saveProgress('\\\\n成功设置接口1⃣️')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"2⃣️：aakkrr(默认)   \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"setData('api',2);saveProgress('\\\\n成功设置接口2⃣️')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"3⃣️：本地搜索         \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"setData('api',3);saveProgress('\\\\n成功设置接口3⃣️')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"                      ⚙️数据导入导出⚙️                      \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"isEncode=Number(source.get('isEncode'));source.put('isEncode',Number(!isEncode));java.toast('\\\\n📝输入数据地址可进行📝\\\\n导入支持http/https链接和本地链接\\\\n导出地址也会显示在数据地址\\\\n本地导出地址为相对路径,在阅读缓存路径里\\\\n/android/data/{package}/cache/\\\\n当前为'+((!isEncode)?'编码后':'原文本')+'导出')\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 1\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"数据地址\",\n\t\t\"type\": \"text\"\n\t},\n\t{\n\t\t\"name\": \"                          📥导入数据📥                          \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"importData(result.数据地址)\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 1\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"    📤本地导出📤    \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"exportData()\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"    📤网络导出📤    \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"exportData(true)\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 0.4\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"直链上传规则\",\n\t\t\"type\": \"text\"\n\t},\n\t{\n\t\t\"name\": \"                        📤使用直链导出📤                        \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"exportData(true,true,this)\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 1\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"数据目录\",\n\t\t\"type\": \"text\"\n\t},\n\t{\n\t\t\"name\": \"域名\",\n\t\t\"type\": \"text\"\n\t},\n\t{\n\t\t\"name\": \"                           📥缓存正文📥                           \",\n\t\t\"type\": \"button\",\n\t\t\"action\": \"cacheContent()\",\n\t\t\"style\": {\n\t\t\t\"layout_flexGrow\": 1,\n\t\t\t\"layout_flexBasisPercent\": 1\n\t\t}\n\t}\n]",
    "loginUrl": "var sourceKey = getSourceKey()\nfunction login() {\n\tinfo = JSON.parse(source.getLoginInfo())\n\tsum = (Number(info[\"获取数目\"]) || 50)\n\tconcurrency = (Number(info[\"并发数\"])||1)\n\tdata = checkData()\n\tdata['sum'] = sum\n\tdata['concurrency'] = concurrency\n\tsetv(data,this)\n\tsetInfo('获取数目',sum)\n\tsetInfo('并发数',concurrency)\n}\nfunction setData(key,value,_){\n\tdata=_||checkData(this)\n\tdata[key]=value\n\tif (key=='sortType'){\n\t\tdata['order']=!data.order\n\t\tsetv(data,this)\n\t\treturn data\n\t\t}\n\tsetv(data,this)\n\treturn data[key]\n}\nfunction setInfo(key,value){\n\tlet data=JSON.parse(source.getLoginInfo()||\"{}\")\n\tdata[key]=String(value)\n\tputLoginInfo(JSON.stringify(data))\n\t}\nfunction putLoginInfo(info){\n\ttry {\n\t\tlet key=java.androidId()\n\t\tlet encodeStr=Packages.android.util.Base64.encodeToString(java.createSymmetricCrypto(\"AES\", key).encrypt(info),2)\n\t\tcache.put(`userInfo_${source.getKey()}`, encodeStr)\n\t\treturn true\n\t\t}catch(e){\n\t\t\tjava.log(e)\n\t\t\treturn source.putLoginInfo(info)\n\t\t}\n\t}\nfunction saveProgress(progress,notshow){\n\tsource.put(\"progress\",progress)\n\tif(!notshow){java.toast(progress)}\n\t}\nfunction setLocal(times){\n\tsource.put('isEnd',0)\n\tsaveProgress(`\\n⌛开始${times?(\"第\"+times+\"次\"):\"\"}构造本地数据⏳`,times)\n\terror=false\ntime = +java.timeFormatUTC(new Date(), 'yyyyMMdd',28800000);\n$=checkData()\nif ((+$.time||0)<time){\n\ttry{\n\tsleep(1000)\n\tsaveProgress(\"\\n🚀正在获取最新书籍🆔\")\n\tresult=org.jsoup.Jsoup.parse(java.ajax(sourceKey))\n\threfs=result.select(\".chapter-new li a.name\")\n\threfs.sort((a,b)=>b.attr(\"href\").match(/\\d+/)-a.attr(\"href\").match(/\\d+/))\n\tlastestId=Number(hrefs.attr(\"href\").match(/\\d+/)[0])\n\t$.time=time\n\t$.lastestId=lastestId\n\t}catch(e){\n\t\tjava.log(e)\n\t\terror=true\n\t\tsaveProgress(\"\\n⚠️获取最新书籍🆔失败，请尝试切换网络\")\n\t\tsleep(800)\n\t\t}\n\t}\n\turls=[]\n\tmkdir(\"/book\",this)\n\tfor (let i=$.lastestId;i>0;i--){\n\t\tif (((i in $.books)&&$.books[i].tags&&exist(\"/book/\"+i,this))||i<1||(($.errorIds?$.errorIds:$.errorIds=[])&&$.errorIds.includes(i)))continue\n\t\turls.push(`${sourceKey}/book/${i}/`)\n\t\tif (urls.length > $.sum) {\n\t\t\tbreak\n\t\t}\n\t}\n\tsleep(1000)\n\tsaveProgress(`\\n当前最新书籍🆔为${$.lastestId}\\n🚀正在并发获取${urls.length}本书籍🚀`)\n\tsleep(800)\n\tcount=0\n\turlslist=spArr(urls,$.concurrency||1)\n\tfor (let i in urlslist){\n\t\tif (Number(source.get('isEnd'))){\n\t\t\tsleep(800)\n\t\t\tsaveProgress(`\\n❎用户终止在${count}/${urls.length}❎`)\n\t\t\terror=false\n\t\t\tsleep(800)\n\t\t\tbreak\n\t\t\t}\n\t\ttry{\n\t\t htmlList=java.ajaxAll(urlslist[i])\n\t\t htmlList.forEach(h=>{\n\t\t \thtml=h.body()\n\t\t\tlet e=org.jsoup.Jsoup.parse(html)\n\t\t\tif(html==\"\"||html.match(/<h1>404 Not Found/)){$.errorIds.push(Number(urls[i].match(/\\d+/)))}\n\t\t\tid=String(e.select('[property=\"og:novel:read_url\"]').attr(\"content\")).match(/book\\/(\\d+)/)[1]\n\t\t\t$.books[id]={author:e.select('[property=\"og:novel:author\"]').attr(\"content\"),category:Object.values(e.select(\".categories a\").textNodes()),cover:String(e.select('[property=\"og:image\"]').attr(\"content\")).replace(/.*file\\/cover\\//,\"\"),intro:e.select('.book-desc').textNodes().toArray().join(\"\"),name:e.select('[property=\"og:novel:book_name\"]').attr(\"content\"),pornrate:e.select('.pornrate dd').text(),score:Number(e.select('.score dd').text()),status:e.select('[property=\"og:novel:status\"]').attr(\"content\"),tags:Object.values(e.select('.tag a').textNodes()),update:String(e.select('.new dd').textNodes()[0]).trim(),word:e.select(\".wordcount dd\").text()}\n\t\t\tcreateFile(String(e.select(\".book-chapter\")),`/book/${id}/index.html`,this)\n\t\t\tcount++\n\t\t\tprogress=`\\n${count%2?\"⏳\":\"⌛\"}当前进度(${count}/${urls.length})\\n${'﹦'.repeat(Math.floor((count/urls.length)*30))}${'﹣'.repeat(Math.ceil((urls.length-count)*30/urls.length))}`\n\t\t\tsaveProgress(progress,true)\n\t\t\ttime=new Date()\n\t\t\tif(count==1||count==(urls.length)||time-pretime>15000){\n\t\t\tpretime=new Date()\n\t\t\tjava.toast(progress)\n\t\t\t}\n\t\t\t})\n\t\t\tsleep(parseInt((Math.random()+0.65)*1000))\n\t\t\t\n\t\t\t}catch(e){\n\t\t\t\tjava.log(e)\n\t\t\t\terror=true\n\t\t\t\tsaveProgress(`\\n❎终止在${count}/${urls.length}`)\n\t\t\t\tsleep(1000)\n\t\t\t\tbreak\n\t\t\t\t}\n\t\t}\n\tsource.put(\"progress\",\"\")\n\tjava.longToast(`\\n✅构造本地数据完成，新增${count}本`)\n\tif(count>0){setv($)}\n\tif(error&&!Number(source.get('isEnd'))&&((times||0)<3)){\n\t\tsleep(2000)\n\t\tprogress=`\\n🔄开始第${(times||0)+1}次重试`\n\t\tsaveProgress(progress)\n\t\tsleep(1000)\n\t\tsetLocal((times||0)+1)\n\t\t}\n}\nfunction sN(str){\n\treturn String(str).replace(/(\\d)/g,`$1⃣️`)\n\t}\nfunction exportData(t,isdirectLinkUpload,_) {\n\tconst { java } = _ || this\n\ttry{\n\t\tsaveProgress(\"\\n✅开始导出数据\")\n\t\tsleep(800)\n\t\tv=JSON.stringify(checkData())\n\t\tbody=v\n\t\tif (Number(source.get('isEncode'))){\n\t\t\tbody=String(v).replace(/[\\u4e00-\\u9fa5]+/g, (match)=>match.replace(/[\\u4e00-\\u9fa5]/g,(char)=>'\\\\u' + ('0000' + char.charCodeAt(0).toString(16)).slice(-4)))\n\t\t}\n\t\tif (t) {\n\t\t\tuploadRule=String(result[\"直链上传规则\"]).trim()\n\t\t\tif (isdirectLinkUpload&&uploadRule) {\n\t\t\t\tsetInfo(\"直链上传规则\",uploadRule)\n\t\t\t\trule=analyzeDirectLinkUploadRule(uploadRule)\n\t\t\t\tpath=upload(body,rule,\"test.json\")\n\t\t\t\t//path=java.getString(rule.downloadUrlRule,resp)\n\t\t\t} else {\n\t\t\t\tjava.toast(\"\\n⚠️网络导出最大为10M，超过10M将导出失败\")\n\t\t\t\tresp=java.post('https://jsonblob.com/api/jsonBlob',body, {\"Content-Type\":\"application/json\",\"Accept\": \"application/json\"})\n\t\t\t\tpath=String(resp.header(\"Location\")).replace(/http:/,\"https:\")\n\t\t\t}\t\t\n\t\t} else {\n\t\t\tm=String(JSON.parse(source.getLoginInfo()||'{}').数据地址).match(/(data\\/[^\\/]+\\/cache)?\\/?([^\\/]+\\.json)/)\n\t\t\tif(m){\n\t\t\t\tjava.deleteFile(\"/\"+m[m.length-1])\n\t\t\t}\n\t\t\turl=`data:;${java.md5Encode16(v)},{\"type\": \"json\"}`\n\t\t\tcontent=java.hexEncodeToString(body)\n\t\t\tpath=java.downloadFile(content,url)\n\t\t}\n\t\tsetInfo(\"数据地址\",path)\n\t\tsaveProgress(`\\n✅导出成功✅\\n${t?'地址为':'保存在阅读缓存路径\\n/android/data/{package}/cache'}${path}`)\n\t} catch (e) {\n\t\tjava.log(e)\n\t\tsaveProgress(\"\\n❎导出失败❎\\n错误信息已打印在日志\")\n\t}\n}\nfunction importData(url) {\n\ttry{\n\t\tif(!(String(url||\"\").trim())) {\n\t\t\turl=\"https://jsonblob.com/api/jsonBlob/1334825983680897024\"\n\t\t}\n\t\tsetInfo(\"数据地址\",url)\n\t\tsaveProgress(\"\\n✅开始导入数据\")\n\t\tsleep(800)\n\t\turl = String(url)\n\t\tisDelete = false\n\t\tif (url.startsWith(\"http\")) {\n\t\t\tpath = java.downloadFile(url)\n\t\t\tisDelete = true\n\t\t} else if(url.startsWith(\"/storage\")&&(!url.endsWith(\"zip\"))) {\n\t\t\tpath = url\n\t\t} else {\n\t\t\tm = url.match(/(data\\/[^\\/]+\\/cache)?\\/?([^\\/]+\\.json|[^\\/]+\\.zip)/)\n\t\t\tpath = \"/\"+m[m.length-1]\n\t\t}\n\t\tif (path.endsWith(\"zip\")) {\n\t\t\t zipPath=java.unArchiveFile(path)\n\t\t\t data=java.getTxtInFolder(zipPath)\n\t\t} else {\n\t\t\tdata = java.importScript(path)\n\t\t}\n\t\tdata = /base64Data/.test(data)?JSON.parse(data).base64Data:data\n\t\tdata = /^[A-Za-z0-9+/]+={0,2}$/.test(data)?java.base64Decode(data):data\n\t\tdata = JSON.parse(data)\n\t\tsaveProgress('\\n✅数据数目:'+Object.keys(data.books).length)\n\t\tsetv(data)\n\t\tsetInfo('获取数目',data.sum)\n\t\tsetInfo('并发数',data.concurrency||1)\n\t\tsleep(2000)\n\t\tif (isDelete) {\n\t\t\tjava.deleteFile(path)\n\t\t}\n\t\tsaveProgress(\"\\n✅导入成功✅\")\n\t}catch (e) {\n\t\tjava.log(e)\n\t\tsaveProgress(\"\\n❎导入失败❎\\n错误信息已打印在日志\")\n\t}\n}\nfunction updateSource() {\n\tlet urls=[\n\"https://5tsv-github-io.pages.dev\",\n\"https://raw.githubusercontent.com/5tsv/5tsv.github.io/refs/heads/main\",\n\"https://5tsv.github.io\",\n\"https://cdn.jsdelivr.net/gh/5tsv/5tsv.github.io@master\",\n\"https://github.moeyy.xyz/https://raw.githubusercontent.com/5tsv/5tsv.github.io/refs/heads/main\"]\n\tlet path=\"/dist/奇怪小说.json\"\n\tlet updateUrl=java.log(`legado://import/bookSource?src=${urls[Math.floor(Math.random() * urls.length)]}${path}`)\n\tjava.toast(`\\n正在从${updateUrl}获取更新`)\n\ttry {\n\t\tjava.openUrl(updateUrl)\n\t} catch (e) {\n\t\tjava.startBrowser(`data:text/html;charset=utf-8,<iframe src=\"${updateUrl}\" hidden></iframe>`,\"\")\n\t}\n}\n\nfunction cacheContent() {\n\tsource.put('isEnd',0)\n\t$ = checkData()\n\turls = []\n\turlsLength=0\n\tfor (let i = $.lastestId; i > 0; i--) {\n\t\tif (Number(source.get('isEnd'))) {\n\t\t\tsleep(800)\n\t\t\tsaveProgress(`\\n❎用户终止在获取章节URL${urls.length}/${$.sum}❎`)\n\t\t\terror = false\n\t\t\tsleep(800)\n\t\t\tbreak\n\t\t}\n\t\tif (!exist(`/book/${i}/index.html`)) {\n\t\t\tcontinue\n\t\t}\n\t\tresult = readFile(`/book/${i}/index.html`)\n\t\tlet e = org.jsoup.Jsoup.parse(result);\n\t\tlet chapters = e.select(\".book-chapter a\")\n\t\tchapters.forEach(c => {\n\t\t\tcurl = c.attr(\"href\")\n\t\t\tif (!exist(curl)) {\n\t\t\t\turls.push(sourceKey + curl)\n\t\t\t}\n\t\t})\n\t\tif (urls.length > $.sum) {\n\t\t\tbreak\n\t\t}\n\t\tsaveProgress(`\\n当前书籍🆔为${i}\\n🚀正在获取${urls.length}/${$.sum}章节URL🚀\\n${'﹦'.repeat(Math.floor((urls.length/$.sum)*30))}${'﹣'.repeat(Math.ceil(($.sum-urls.length)*30/$.sum))}`,urls.length-urlsLength>$.sum/10?false:true)\n\t\turlsLength=urls.length\n\t}\n\tsaveProgress(`\\n🚀正在并发获取${urls.length}章节🚀`)\n\tsleep(1000)\n\tcount = 0\n\turlslist = spArr(urls, $.concurrency || 1)\n\tfor (let i in urlslist) {\n\t\tif (Number(source.get('isEnd'))) {\n\t\t\tsleep(800)\n\t\t\tsaveProgress(`\\n❎用户终止在${count}/${urls.length}❎`)\n\t\t\terror = false\n\t\t\tsleep(800)\n\t\t\tbreak\n\t\t}\n\t\ttry {\n\t\t\thtmlList = java.ajaxAll(urlslist[i])\n\t\t\thtmlList.forEach(h => {\n\t\t\t\thtml = h.body()\n\t\t\t\turl = h.url().replace(sourceKey, \"\")\n\t\t\t\tlet content = org.jsoup.Jsoup.parse(html).select(\".content\");\n\t\t\t\tif (content != \"\") {\n\t\t\t\t\tcreateFile(content, url)\n\t\t\t\t\tcount++\n\t\t\t\t\tprogress = `\\n${count%2?\"⏳\":\"⌛\"}当前进度(${count}/${urls.length})\\n${'﹦'.repeat(Math.floor((count/urls.length)*30))}${'﹣'.repeat(Math.ceil((urls.length-count)*30/urls.length))}`\n\t\t\t\t\tsaveProgress(progress, true)\n\t\t\t\t}\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tjava.log(e)\n\t\t\tsaveProgress(`\\n❎终止在${count}/${urls.length}`)\n\t\t\tsleep(1000)\n\t\t\tbreak\n\t\t}\n\t}\n\tsource.put(\"progress\",\"\")\n\tjava.longToast(`\\n✅缓存正文完成，新增${count}章节`)\n}",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "author",
      "coverUrl": "coverUrl",
      "init": "<js>\nif (\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u0062\\u0061\\u0073\\u0065\\u0055\\u0072\\u006c).\\u0073\\u0074\\u0061\\u0072\\u0074\\u0073\\u0057\\u0069\\u0074\\u0068(\"\\u0068\\u0074\\u0074\\u0070\")) {\n\t\\u0069\\u0064 = \\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u0062\\u0061\\u0073\\u0065\\u0055\\u0072\\u006c).\\u006d\\u0061\\u0074\\u0063\\u0068(new \\u0052\\u0065\\u0067\\u0045\\u0078\\u0070(\"\\u0062\\u006f\\u006f\\u006b\\u005c\\u002f\\u0028\\u005c\\u0064\\u002b\\u0029\"))[1]\n} else {\n\t\\u0069\\u0064 = \\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u006a\\u0061\\u0076\\u0061.\\u0068\\u0065\\u0078\\u0044\\u0065\\u0063\\u006f\\u0064\\u0065\\u0054\\u006f\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u0072\\u0065\\u0073\\u0075\\u006c\\u0074)).\\u0073\\u0070\\u006c\\u0069\\u0074(\"\\u007c\\u003d\\u003d\\u007c\")[0]\n\ttry {\n\t\t\\u0072\\u0065\\u0073\\u0075\\u006c\\u0074 = \\u006a\\u0061\\u0076\\u0061.\\u0067\\u0065\\u0074(`${\\u0067\\u0065\\u0074\\u0053\\u006f\\u0075\\u0072\\u0063\\u0065\\u004b\\u0065\\u0079()}\\u002f\\u0062\\u006f\\u006f\\u006b\\u002f${\\u0069\\u0064}\\u002f`, \\u0073\\u006f\\u0075\\u0072\\u0063\\u0065.\\u0067\\u0065\\u0074\\u0048\\u0065\\u0061\\u0064\\u0065\\u0072\\u004d\\u0061\\u0070(false)).\\u0062\\u006f\\u0064\\u0079()\n\t\t\\u006a\\u0061\\u0076\\u0061.\\u0073\\u0065\\u0074\\u0043\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074(\\u0072\\u0065\\u0073\\u0075\\u006c\\u0074)\n\t} catch (\\u0065) {\n\t\t\\u0072\\u0065\\u0073\\u0075\\u006c\\u0074 = \"\"\n\t}\n}\n\\u0067\\u0065\\u0074\\u0042\\u006f\\u006f\\u006b\\u0049\\u006e\\u0066\\u006f=()=>{\n\tif (\\u0063\\u0061\\u0063\\u0068\\u0065.\\u0067\\u0065\\u0074(\\u006a\\u0061\\u0076\\u0061.\\u006d\\u0064\\u0035\\u0045\\u006e\\u0063\\u006f\\u0064\\u0065\\u0031\\u0036(\"\\u0072\\u0073\\u0061\\u005f\\u0063\\u0068\\u0065\\u0063\\u006b\"))) {\n\t\treturn {\n\t\t\t\\u006e\\u0061\\u006d\\u0065: \\u006e\\u0061\\u006d\\u0065,\n\t\t\t\\u0061\\u0075\\u0074\\u0068\\u006f\\u0072: \\u0061\\u0075\\u0074\\u0068\\u006f\\u0072,\n\t\t\t\\u006b\\u0069\\u006e\\u0064: \\u006b\\u0069\\u006e\\u0064,\n\t\t\t\\u0077\\u006f\\u0072\\u0064\\u0043\\u006f\\u0075\\u006e\\u0074: \\u0077\\u006f\\u0072\\u0064\\u0043\\u006f\\u0075\\u006e\\u0074,\n\t\t\t\\u006c\\u0061\\u0073\\u0074\\u0043\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072: \\u006c\\u0061\\u0073\\u0074\\u0043\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072,\n\t\t\t\\u0069\\u006e\\u0074\\u0072\\u006f: \\u0069\\u006e\\u0074\\u0072\\u006f,\n\t\t\t\\u0063\\u006f\\u0076\\u0065\\u0072\\u0055\\u0072\\u006c: \\u0063\\u006f\\u0076\\u0065\\u0072\\u0055\\u0072\\u006c,\n\t\t\t\\u0074\\u006f\\u0063\\u0055\\u0072\\u006c: \\u0074\\u006f\\u0044\\u0061\\u0074\\u0061\\u0055\\u0072\\u006c(\\u0069\\u0064)\n\t\t}\n\t}\n\t\\u006a\\u0061\\u0076\\u0061.\\u006c\\u006f\\u0067(\"\\u6b63\\u5728\\u9a8c\\u8bc1\")\n\t\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u006b\\u0065\\u0079 = \"\\u004d\\u0049\\u0049\\u0042\\u0049\\u006a\\u0041\\u004e\\u0042\\u0067\\u006b\\u0071\\u0068\\u006b\\u0069\\u0047\\u0039\\u0077\\u0030\\u0042\\u0041\\u0051\\u0045\\u0046\\u0041\\u0041\\u004f\\u0043\\u0041\\u0051\\u0038\\u0041\\u004d\\u0049\\u0049\\u0042\\u0043\\u0067\\u004b\\u0043\\u0041\\u0051\\u0045\\u0041\\u0076\\u0039\\u0039\\u006e\\u006a\\u0044\\u0041\\u0039\\u0059\\u0070\\u006f\\u0046\\u0056\\u0048\\u0072\\u0042\\u006f\\u006b\\u0041\\u006c\\u0041\\u0033\\u0057\\u0057\\u0061\\u0030\\u0078\\u0038\\u0042\\u0059\\u0078\\u0035\\u0072\\u0050\\u0065\\u0033\\u0050\\u006b\\u0043\\u0057\\u0075\\u0052\\u0038\\u006c\\u002f\\u0039\\u0044\\u0071\\u0035\\u0032\\u006e\\u0056\\u0057\\u0076\\u0041\\u0067\\u0062\\u006b\\u0068\\u0073\\u0069\\u0079\\u006c\\u004c\\u0031\\u004e\\u0059\\u0043\\u0033\\u0043\\u002f\\u0039\\u0065\\u0032\\u0030\\u0072\\u0063\\u0043\\u0066\\u0075\\u0039\\u0051\\u0037\\u0059\\u0044\\u0038\\u005a\\u0039\\u0054\\u0069\\u0054\\u0037\\u006c\\u0033\\u0042\\u004a\\u0050\\u0068\\u0059\\u0049\\u0073\\u0056\\u0050\\u0074\\u004c\\u0069\\u007a\\u0066\\u0074\\u0049\\u0079\\u0055\\u0074\\u0049\\u0070\\u0057\\u006e\\u0062\\u0047\\u0062\\u004e\\u006d\\u0051\\u006b\\u002f\\u004f\\u0077\\u0075\\u0068\\u0073\\u0038\\u0054\\u0032\\u002f\\u004c\\u0067\\u006a\\u0070\\u006c\\u0066\\u0042\\u0054\\u006a\\u0070\\u0036\\u0038\\u0076\\u006e\\u0054\\u0070\\u0059\\u006f\\u006a\\u006c\\u006d\\u0045\\u0054\\u0041\\u0061\\u0059\\u0066\\u0036\\u0078\\u0062\\u0030\\u006a\\u0052\\u0039\\u0035\\u0032\\u004c\\u0044\\u0052\\u002b\\u0047\\u0041\\u0064\\u004e\\u0057\\u0037\\u006a\\u0062\\u0073\\u0067\\u0033\\u0054\\u004a\\u0076\\u0033\\u0049\\u0063\\u006e\\u0054\\u0057\\u0038\\u0042\\u006b\\u004e\\u0035\\u0050\\u0038\\u004e\\u005a\\u0071\\u0047\\u0071\\u007a\\u004f\\u005a\\u0035\\u0062\\u002f\\u004f\\u0070\\u0064\\u0034\\u0071\\u0059\\u0067\\u0078\\u0079\\u0049\\u0072\\u004c\\u0048\\u0043\\u0053\\u0032\\u0063\\u0078\\u0041\\u006c\\u0079\\u007a\\u0075\\u004b\\u0077\\u0053\\u0036\\u0058\\u0052\\u004e\\u006b\\u0037\\u0066\\u002b\\u0079\\u006b\\u0067\\u0035\\u0043\\u0063\\u0037\\u0053\\u004a\\u0043\\u006d\\u0054\\u0058\\u0069\\u0038\\u0071\\u0062\\u005a\\u0055\\u0062\\u0050\\u004f\\u0075\\u0058\\u002b\\u0037\\u0052\\u0070\\u0056\\u0065\\u0079\\u004c\\u0043\\u0069\\u0068\\u005a\\u0068\\u005a\\u006e\\u0059\\u0031\\u0059\\u0030\\u0057\\u0068\\u0047\\u0074\\u0059\\u0071\\u0068\\u004d\\u007a\\u0042\\u0038\\u0058\\u0056\\u0070\\u0034\\u0043\\u0078\\u0053\\u004f\\u0072\\u002f\\u0065\\u004e\\u0070\\u0066\\u007a\\u0053\\u0070\\u004f\\u0034\\u0042\\u006b\\u005a\\u0049\\u0075\\u0057\\u0068\\u0037\\u002b\\u0043\\u0062\\u002f\\u006f\\u0056\\u006b\\u0078\\u006e\\u004f\\u006f\\u0069\\u0075\\u0066\\u0051\\u0049\\u0044\\u0041\\u0051\\u0041\\u0042\"\n\t\\u006f\\u0066\\u0066\\u0073\\u0065\\u0074\\u0054\\u0069\\u006d\\u0065 = 24 * 60 * 60 * 1000\n\t\\u0063\\u0075\\u0072\\u0072\\u0065\\u006e\\u0074\\u0044\\u0061\\u0074\\u0065 = new \\u0044\\u0061\\u0074\\u0065()\n\t\\u006a\\u0061\\u0076\\u0061.\\u006c\\u006f\\u0067(\"\\u83b7\\u53d6\\u7b7e\\u540d\\u002e\\u002e\\u002e\")\n\t\\u0073\\u0069\\u0067\\u006e = \\u006a\\u0061\\u0076\\u0061.\\u0061\\u006a\\u0061\\u0078(\"\\u0068\\u0074\\u0074\\u0070\\u0073\\u003a\\u002f\\u002f\\u0074\\u0065\\u0061\\u0063\\u0068\\u006d\\u0065\\u002e\\u0070\\u0061\\u0067\\u0065\\u0073\\u002e\\u0064\\u0065\\u0076\\u002f\\u0073\\u0069\\u0067\\u006e\\u002f\\u0064\\u0061\\u0074\\u0065\\u0073\\u0069\\u0067\\u006e\\u002e\\u0074\\u0078\\u0074\")\n\t\\u0061\\u006c\\u0067\\u006f\\u0072\\u0069\\u0074\\u0068\\u006d = \"\\u0053\\u0048\\u0041\\u0032\\u0035\\u0036\\u0077\\u0069\\u0074\\u0068\\u0052\\u0053\\u0041\"\n\tif (new \\u0052\\u0065\\u0067\\u0045\\u0078\\u0070(\"\\u005e\\u005b\\u0061\\u002d\\u0066\\u005c\\u0064\\u005c\\u0073\\u005d\\u002b\\u0024\",\"\\u0069\").\\u0074\\u0065\\u0073\\u0074(\\u0073\\u0069\\u0067\\u006e)) {\n\t\t\\u0073\\u0069\\u0067\\u006e = \\u006a\\u0061\\u0076\\u0061.\\u0068\\u0065\\u0078\\u0044\\u0065\\u0063\\u006f\\u0064\\u0065\\u0054\\u006f\\u0042\\u0079\\u0074\\u0065\\u0041\\u0072\\u0072\\u0061\\u0079(\\u0073\\u0069\\u0067\\u006e)\n\t} else if (new \\u0052\\u0065\\u0067\\u0045\\u0078\\u0070(\"\\u005e\\u005b\\u0061\\u002d\\u007a\\u0030\\u002d\\u0039\\u002b\\u005c\\u005c\\u002f\\u003d\\u005d\\u002b\\u0024\",\"\\u0069\").\\u0074\\u0065\\u0073\\u0074(\\u0073\\u0069\\u0067\\u006e)) {\n\t\t\\u0073\\u0069\\u0067\\u006e = \\u006a\\u0061\\u0076\\u0061.\\u0062\\u0061\\u0073\\u006564\\u0044\\u0065\\u0063\\u006f\\u0064\\u0065\\u0054\\u006f\\u0042\\u0079\\u0074\\u0065\\u0041\\u0072\\u0072\\u0061\\u0079(\\u0073\\u0069\\u0067\\u006e)\n\t} else {\n\t\t\\u0073\\u0069\\u0067\\u006e = \\u006a\\u0061\\u0076\\u0061.\\u0073\\u0074\\u0072\\u0054\\u006f\\u0042\\u0079\\u0074\\u0065\\u0073(\\u0073\\u0069\\u0067\\u006e)\n\t}\n\t\\u006a\\u0061\\u0076\\u0061.\\u006c\\u006f\\u0067(\"\\u83b7\\u53d6\\u7b7e\\u540d\\u6210\\u529f\\uff0c\\u6b63\\u5728\\u521b\\u5efa\\u0053\\u0069\\u0067\\u006e\\u5bf9\\u8c61\")\n\t\\u0063\\u0069\\u0070\\u0068\\u0065\\u0072 = \\u006a\\u0061\\u0076\\u0061.\\u0063\\u0072\\u0065\\u0061\\u0074\\u0065\\u0053\\u0069\\u0067\\u006e(\\u0061\\u006c\\u0067\\u006f\\u0072\\u0069\\u0074\\u0068\\u006d).\\u0073\\u0065\\u0074\\u0050\\u0075\\u0062\\u006c\\u0069\\u0063\\u004b\\u0065\\u0079(\\u006a\\u0061\\u0076\\u0061.\\u0062\\u0061\\u0073\\u006564\\u0044\\u0065\\u0063\\u006f\\u0064\\u0065\\u0054\\u006f\\u0042\\u0079\\u0074\\u0065\\u0041\\u0072\\u0072\\u0061\\u0079(\\u0070\\u0075\\u0062\\u006c\\u0069\\u0063\\u006b\\u0065\\u0079))\n\t\\u006a\\u0061\\u0076\\u0061.\\u006c\\u006f\\u0067(\"\\u5f00\\u59cb\\u7b7e\\u540d\\u9a8c\\u8bc1\\u002e\\u002e\\u002e\")\n\t\\u0064\\u0061\\u0074\\u0061 = \\u0041\\u0072\\u0072\\u0061\\u0079.\\u0066\\u0072\\u006f\\u006d({ \\u006c\\u0065\\u006e\\u0067\\u0074\\u0068: 3 }, (_, \\u0069) => \\u0063\\u0069\\u0070\\u0068\\u0065\\u0072.\\u0076\\u0065\\u0072if\\u0079(\\u006a\\u0061\\u0076\\u0061.\\u0073\\u0074\\u0072\\u0054\\u006f\\u0042\\u0079\\u0074\\u0065\\u0073(\\u006a\\u0061\\u0076\\u0061.\\u0074\\u0069\\u006d\\u0065\\u0046\\u006f\\u0072\\u006d\\u0061\\u0074\\u0055\\u0054\\u0043(\\u0063\\u0075\\u0072\\u0072\\u0065\\u006e\\u0074\\u0044\\u0061\\u0074\\u0065 - (1 - \\u0069) * \\u006f\\u0066\\u0066\\u0073\\u0065\\u0074\\u0054\\u0069\\u006d\\u0065, '\\u0079\\u0079\\u0079\\u0079\\u004d\\u004d\\u0064\\u0064', 0)), \\u0073\\u0069\\u0067\\u006e))\n\t\\u0072\\u0065\\u0073 = \\u0064\\u0061\\u0074\\u0061.\\u0072\\u0065\\u0064\\u0075\\u0063\\u0065((\\u0061\\u0063\\u0063, \\u0076\\u0061\\u006c) => \\u0061\\u0063\\u0063 || \\u0076\\u0061\\u006c)\n\t\\u0064\\u0061\\u0074\\u0065=\\u0072\\u0065\\u0073?\\u006a\\u0061\\u0076\\u0061.\\u0074\\u0069\\u006d\\u0065\\u0046\\u006f\\u0072\\u006d\\u0061\\u0074\\u0055\\u0054\\u0043(\\u0063\\u0075\\u0072\\u0072\\u0065\\u006e\\u0074\\u0044\\u0061\\u0074\\u0065 - (1 - \\u0064\\u0061\\u0074\\u0061.\\u0069\\u006e\\u0064\\u0065\\u0078\\u004f\\u0066(true)) * \\u006f\\u0066\\u0066\\u0073\\u0065\\u0074\\u0054\\u0069\\u006d\\u0065, '\\u0079\\u0079\\u0079\\u0079\\u004d\\u004d\\u0064\\u0064', 0):\"\"\n\t\\u006a\\u0061\\u0076\\u0061.\\u006c\\u006f\\u0067(`\\u9a8c\\u8bc1${\\u0072\\u0065\\u0073?`${(()=>{\\u0063\\u0061\\u0063\\u0068\\u0065.\\u0070\\u0075\\u0074(\\u006a\\u0061\\u0076\\u0061.\\u006d\\u0064\\u0035\\u0045\\u006e\\u0063\\u006f\\u0064\\u0065\\u0031\\u0036(\"\\u0072\\u0073\\u0061\\u005f\\u0063\\u0068\\u0065\\u0063\\u006b\"),0x1,0x15180);return \"\"})()+\\u0064\\u0061\\u0074\\u0065}\\u901a\\u8fc7`:\"\\u5931\\u8d25\"}`)\n\tif (\\u0072\\u0065\\u0073) {\n\t\treturn {\n\t\t\t\\u006e\\u0061\\u006d\\u0065: \\u006e\\u0061\\u006d\\u0065,\n\t\t\t\\u0061\\u0075\\u0074\\u0068\\u006f\\u0072: \\u0061\\u0075\\u0074\\u0068\\u006f\\u0072,\n\t\t\t\\u006b\\u0069\\u006e\\u0064: \\u006b\\u0069\\u006e\\u0064,\n\t\t\t\\u0077\\u006f\\u0072\\u0064\\u0043\\u006f\\u0075\\u006e\\u0074: \\u0077\\u006f\\u0072\\u0064\\u0043\\u006f\\u0075\\u006e\\u0074,\n\t\t\t\\u006c\\u0061\\u0073\\u0074\\u0043\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072: \\u006c\\u0061\\u0073\\u0074\\u0043\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072,\n\t\t\t\\u0069\\u006e\\u0074\\u0072\\u006f: \\u0069\\u006e\\u0074\\u0072\\u006f,\n\t\t\t\\u0063\\u006f\\u0076\\u0065\\u0072\\u0055\\u0072\\u006c: \\u0063\\u006f\\u0076\\u0065\\u0072\\u0055\\u0072\\u006c,\n\t\t\t\\u0074\\u006f\\u0063\\u0055\\u0072\\u006c: \\u0074\\u006f\\u0044\\u0061\\u0074\\u0061\\u0055\\u0072\\u006c(\\u0069\\u0064)\n\t\t}\n\t}else throw new \\u0045\\u0072\\u0072\\u006f\\u0072()\n}\ntry {\n\t\\u0065 = \\u006f\\u0072\\u0067.\\u006a\\u0073\\u006f\\u0075\\u0070.\\u004a\\u0073\\u006f\\u0075\\u0070.\\u0070\\u0061\\u0072\\u0073\\u0065(\\u0072\\u0065\\u0073\\u0075\\u006c\\u0074);\n\t\\u0069\\u0064_1 = \\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u005b\\u0070\\u0072\\u006f\\u0070\\u0065\\u0072\\u0074\\u0079\\u003d\\u0022\\u006f\\u0067\\u003a\\u006e\\u006f\\u0076\\u0065\\u006c\\u003a\\u0072\\u0065\\u0061\\u0064\\u005f\\u0075\\u0072\\u006c\\u0022\\u005d').\\u0061\\u0074\\u0074\\u0072(\"\\u0063\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074\")).\\u006d\\u0061\\u0074\\u0063\\u0068(new \\u0052\\u0065\\u0067\\u0045\\u0078\\u0070(\"\\u0062\\u006f\\u006f\\u006b\\u005c\\u002f\\u0028\\u005c\\u0064\\u002b\\u0029\"))[1]\n\tif (\\u0069\\u0064 != \\u0069\\u0064_1) {\n\t\tthrow new \\u0045\\u0072\\u0072\\u006f\\u0072(\"\\u0069\\u0064\\u4e0d\\u4e00\\u81f4\")\n\t}\n\t\\u0061\\u0075\\u0074\\u0068\\u006f\\u0072 = \\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u005b\\u0070\\u0072\\u006f\\u0070\\u0065\\u0072\\u0074\\u0079\\u003d\\u0022\\u006f\\u0067\\u003a\\u006e\\u006f\\u0076\\u0065\\u006c\\u003a\\u0061\\u0075\\u0074\\u0068\\u006f\\u0072\\u0022\\u005d').\\u0061\\u0074\\u0074\\u0072(\"\\u0063\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074\")\n\t\\u006e\\u0061\\u006d\\u0065 = \\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u005b\\u0070\\u0072\\u006f\\u0070\\u0065\\u0072\\u0074\\u0079\\u003d\\u0022\\u006f\\u0067\\u003a\\u006e\\u006f\\u0076\\u0065\\u006c\\u003a\\u0062\\u006f\\u006f\\u006b\\u005f\\u006e\\u0061\\u006d\\u0065\\u0022\\u005d').\\u0061\\u0074\\u0074\\u0072(\"\\u0063\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074\")\n\t\\u0077\\u006f\\u0072\\u0064\\u0043\\u006f\\u0075\\u006e\\u0074 = \\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074(\"\\u002e\\u0077\\u006f\\u0072\\u0064\\u0063\\u006f\\u0075\\u006e\\u0074 \\u0064\\u0064\").\\u0074\\u0065\\u0078\\u0074()\n\t\\u006c\\u0061\\u0073\\u0074\\u0043\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072 = \\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u005b\\u0070\\u0072\\u006f\\u0070\\u0065\\u0072\\u0074\\u0079\\u007e\\u003d\\u006c\\u0061\\u0073\\u003f\\u0074\\u0065\\u0073\\u0074\\u005f\\u0063\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072\\u005f\\u006e\\u0061\\u006d\\u0065\\u005d').\\u0061\\u0074\\u0074\\u0072(\"\\u0063\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074\")\n\t\\u0063\\u006f\\u0076\\u0065\\u0072\\u0055\\u0072\\u006c = \\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u005b\\u0070\\u0072\\u006f\\u0070\\u0065\\u0072\\u0074\\u0079\\u003d\\u0022\\u006f\\u0067\\u003a\\u0069\\u006d\\u0061\\u0067\\u0065\\u0022\\u005d').\\u0061\\u0074\\u0074\\u0072(\"\\u0063\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074\")\n\t\\u0063\\u0061\\u0074\\u0065\\u0067\\u006f\\u0072\\u0079 = \\u004f\\u0062\\u006a\\u0065\\u0063\\u0074.\\u0076\\u0061\\u006c\\u0075\\u0065\\u0073(\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074(\"\\u002e\\u0063\\u0061\\u0074\\u0065\\u0067\\u006f\\u0072\\u0069\\u0065\\u0073 \\u0061\").\\u0074\\u0065\\u0078\\u0074\\u004e\\u006f\\u0064\\u0065\\u0073())\n\t\\u0073\\u0074\\u0061\\u0074\\u0075\\u0073 = \\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u005b\\u0070\\u0072\\u006f\\u0070\\u0065\\u0072\\u0074\\u0079\\u003d\\u0022\\u006f\\u0067\\u003a\\u006e\\u006f\\u0076\\u0065\\u006c\\u003a\\u0073\\u0074\\u0061\\u0074\\u0075\\u0073\\u0022\\u005d').\\u0061\\u0074\\u0074\\u0072(\"\\u0063\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074\")\n\t\\u0075\\u0070\\u0064\\u0061\\u0074\\u0065 = \\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u002e\\u006e\\u0065\\u0077\\u0020\\u0064\\u0064').\\u0074\\u0065\\u0078\\u0074\\u004e\\u006f\\u0064\\u0065\\u0073()[0]).\\u0074\\u0072\\u0069\\u006d()\n\t\\u0074\\u0061\\u0067\\u0073 = \\u004f\\u0062\\u006a\\u0065\\u0063\\u0074.\\u0076\\u0061\\u006c\\u0075\\u0065\\u0073(\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('.\\u0074\\u0061\\u0067 \\u0061').\\u0074\\u0065\\u0078\\u0074\\u004e\\u006f\\u0064\\u0065\\u0073())\n\t\\u006b\\u0069\\u006e\\u0064 = \\u0063\\u0061\\u0074\\u0065\\u0067\\u006f\\u0072\\u0079.\\u0063\\u006f\\u006e\\u0063\\u0061\\u0074([\\u0073\\u0074\\u0061\\u0074\\u0075\\u0073, \\u0075\\u0070\\u0064\\u0061\\u0074\\u0065]).\\u006a\\u006f\\u0069\\u006e(\"\\u002c\")\n\t\\u0069\\u006e\\u0066\\u006f = \\u006a\\u0061\\u0076\\u0061.\\u0067\\u0065\\u0074\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\"\\u0040\\u002e\\u0062\\u006f\\u006f\\u006b\\u002d\\u0064\\u0065\\u0073\\u0063\\u0040\\u0074\\u0065\\u0078\\u0074\\u004e\\u006f\\u0064\\u0065\\u0073\")\n\t\\u0070\\u006f\\u0072\\u006e\\u0072\\u0061\\u0074\\u0065 = \\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u002e\\u0070\\u006f\\u0072\\u006e\\u0072\\u0061\\u0074\\u0065\\u0020\\u0064\\u0064').\\u0074\\u0065\\u0078\\u0074()\n\t\\u0073\\u0063\\u006f\\u0072\\u0065 = \\u004e\\u0075\\u006d\\u0062\\u0065\\u0072(\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('\\u002e\\u0073\\u0063\\u006f\\u0072\\u0065\\u0020\\u0064\\u0064').\\u0074\\u0065\\u0078\\u0074())\n\t\\u0069\\u006e\\u0074\\u0072\\u006f = `\\u0026\\u006e\\u0062\\u0073\\u0070;\\u0026\\u006e\\u0062\\u0073\\u0070;\n🆔\\u003a${\\u0069\\u0064} 📈\\u8bc4\\u5206\\u003a${\\u0073\\u0063\\u006f\\u0072\\u0065} 💗\\u8089\\u91cf\\u003a${\\u0070\\u006f\\u0072\\u006e\\u0072\\u0061\\u0074\\u0065} \n👁️\\u89c2\\u770b\\u003a${\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('.\\u006f\\u006e\\u0063\\u006c\\u0069\\u0063\\u006b \\u0064\\u0064').\\u0074\\u0065\\u0078\\u0074()}   💌\\u6536\\u85cf\\u003a${\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074('.\\u0063\\u006f\\u006c\\u006c\\u0065\\u0063\\u0074 \\u0064\\u0064').\\u0074\\u0065\\u0078\\u0074()}\n📝 \\u7b80\\u4ecb：${\\u0069\\u006e\\u0066\\u006f}\n🔖 \\u6807\\u7b7e：${\\u0074\\u0061\\u0067\\u0073.\\u006a\\u006f\\u0069\\u006e(\"\\u002c\")}\n🕰 \\u66f4\\u65b0：${\\u006a\\u0061\\u0076\\u0061.\\u0067\\u0065\\u0074\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067('[\\u0070\\u0072\\u006f\\u0070\\u0065\\u0072\\u0074\\u0079\\u007e\\u003d\\u0075\\u0070\\u0064\\u0061\\u0074\\u0065_\\u0074\\u0069\\u006d\\u0065]\\u0040\\u0063\\u006f\\u006e\\u0074\\u0065\\u006e\\u0074')}`\n\t\\u0063\\u0072\\u0065\\u0061\\u0074\\u0065\\u0046\\u0069\\u006c\\u0065(\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u0065.\\u0073\\u0065\\u006c\\u0065\\u0063\\u0074(\"\\u002e\\u0062\\u006f\\u006f\\u006b\\u002d\\u0063\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072\")), `\\u002f\\u0062\\u006f\\u006f\\u006b\\u002f${\\u0069\\u0064}\\u002f\\u0069\\u006e\\u0064\\u0065\\u0078.\\u0068\\u0074\\u006d\\u006c`)\n\t\\u0076 = \\u0063\\u0068\\u0065\\u0063\\u006b\\u0044\\u0061\\u0074\\u0061()\n\t\\u0076.\\u0062\\u006f\\u006f\\u006b\\u0073[\\u0069\\u0064] = {\n\t\t\\u0061\\u0075\\u0074\\u0068\\u006f\\u0072: \\u0061\\u0075\\u0074\\u0068\\u006f\\u0072,\n\t\t\\u0063\\u0061\\u0074\\u0065\\u0067\\u006f\\u0072\\u0079: \\u0063\\u0061\\u0074\\u0065\\u0067\\u006f\\u0072\\u0079,\n\t\t\\u0063\\u006f\\u0076\\u0065\\u0072: \\u0053\\u0074\\u0072\\u0069\\u006e\\u0067(\\u0063\\u006f\\u0076\\u0065\\u0072\\u0055\\u0072\\u006c).\\u0072\\u0065\\u0070\\u006c\\u0061\\u0063\\u0065(new \\u0052\\u0065\\u0067\\u0045\\u0078\\u0070(\"\\u002e\\u002a\\u0066\\u0069\\u006c\\u0065\\u005c\\u002f\\u0063\\u006f\\u0076\\u0065\\u0072\\u005c\\u002f\\u002f\"), \"\"),\n\t\t\\u0069\\u006e\\u0074\\u0072\\u006f: \\u0069\\u006e\\u0066\\u006f,\n\t\t\\u006e\\u0061\\u006d\\u0065: \\u006e\\u0061\\u006d\\u0065,\n\t\t\\u0070\\u006f\\u0072\\u006e\\u0072\\u0061\\u0074\\u0065: \\u0070\\u006f\\u0072\\u006e\\u0072\\u0061\\u0074\\u0065,\n\t\t\\u0073\\u0063\\u006f\\u0072\\u0065: \\u0073\\u0063\\u006f\\u0072\\u0065,\n\t\t\\u0073\\u0074\\u0061\\u0074\\u0075\\u0073: \\u0073\\u0074\\u0061\\u0074\\u0075\\u0073,\n\t\t\\u0074\\u0061\\u0067\\u0073: \\u0074\\u0061\\u0067\\u0073,\n\t\t\\u0075\\u0070\\u0064\\u0061\\u0074\\u0065: \\u0075\\u0070\\u0064\\u0061\\u0074\\u0065,\n\t\t\\u0077\\u006f\\u0072\\u0064: \\u0077\\u006f\\u0072\\u0064\\u0043\\u006f\\u0075\\u006e\\u0074\n\t}\n\t\\u0073\\u0065\\u0074\\u0076(\\u0076)\n} catch (\\u0065\\u0072\\u0072\\u006f\\u0072) {\n\t\\u006a\\u0061\\u0076\\u0061.\\u006c\\u006f\\u0067(\\u0065\\u0072\\u0072\\u006f\\u0072)\n\tvar {\n\t\t\\u006e\\u0061\\u006d\\u0065,\n\t\t\\u0061\\u0075\\u0074\\u0068\\u006f\\u0072,\n\t\t\\u006b\\u0069\\u006e\\u0064,\n\t\t\\u0077\\u006f\\u0072\\u0064\\u0043\\u006f\\u0075\\u006e\\u0074,\n\t\t\\u0069\\u006e\\u0074\\u0072\\u006f,\n\t\t\\u0063\\u006f\\u0076\\u0065\\u0072\\u0055\\u0072\\u006c\n\t} = \\u0062\\u006f\\u006f\\u006b\n\t\\u006c\\u0061\\u0073\\u0074\\u0043\\u0068\\u0061\\u0070\\u0074\\u0065\\u0072 = \"\"\n}\n\\u0067\\u0065\\u0074\\u0042\\u006f\\u006f\\u006b\\u0049\\u006e\\u0066\\u006f()\n</js>",
      "intro": "intro",
      "kind": "kind",
      "lastChapter": "lastChapter",
      "name": "name",
      "tocUrl": "tocUrl",
      "wordCount": "wordCount"
    },
    "ruleContent": {
      "content": "<js>\nurl=String(java.hexDecodeToString(result)).split(\"|==|\")[0]\nreadFile(url)\n</js>.content@p@textNodes",
      "replaceRegex": "##标题：{{chapter.title}}",
      "title": "<js>\nurl=String(java.hexDecodeToString(result)).split(\"|==|\")[0]\ntry{\n\tresult=java.get(`${getSourceKey()}${url}`,source.getHeaderMap(false)).body()\n\tcontent=org.jsoup.Jsoup.parse(result).select(\".content\");\n\tif (content==\"\"){throw new Error(result)}\n\tcreateFile(content,url)\n}catch(e){\n\tjava.log(e)\n\tresult=readFile(url)\n}\n</js>.content@p@textNodes##标题[:：](.*)\\n##{{chapter.title}} $1###",
      "webJs": ""
    },
    "ruleExplore": {
      "author": "$.author",
      "bookList": "<js>\nbooklist=[]\n$=checkData()\nif(baseUrl==\"http://localhost/\"){\n\t[key,page,sortType]=String(java.hexDecodeToString(result)).split(\"|==|\")\nif (/^(author|category|id|intro|name|pornrate|score|status|tags|update|word):/.test(key)){\n\t\t[type,key]=key.split(/:([\\w\\W]+)?/,2)\n\t\t}else{\n\t\t\t[key,page]=String(java.hexDecodeToString(result)).split(\"|==|\")\n\t\t\ttype=\"name\"\n\t\t\t}\n\t\t\tbooks=$.books\n\tfor (let i in books){\n    books[i][\"id\"]=i\n    booklist.push(books[i])\n    }\n    Regkey=createRegExp(key)\n    booklist=booklist.filter(b=>String(b[type]).match(Regkey))\n  \n  if(/(pornrate|score|update|word)/.test($.sortType)||sortType){\n  st=sortType||$.sortType\n  booklist.sort((a,b)=>getSortValue(a,st)-getSortValue(b,st))\n  \t}\n  if(!$.order){\n  \tbooklist.reverse()\n  \t}\n  if (booklist.length>0&&page==0)java.toast(`\\n✅成功获取${booklist.length}本书籍`)\n  else if((!booklist.length>0)&&page==0)java.toast(\"\\n⚠️请先登录构造本地数据\")\n  booklist=getl(booklist,page);\n\t}else {\n\t\tresult=java.getElements(\".book-like a\")\n\t\tcount=0\n\t\tresult.forEach(r=>{\n\t\t\tid=java.getString(\"href\",r).match(/book\\/(\\d+)/)[1]\n\t\t\ttemp={name:java.getString('h4@text',r),author:java.getString(\"span@text\",r),cover:String(java.getString(\"img@src\",r)).replace(/.*file\\/cover\\//,\"\")}\n\t\t\tif (!(id in $.books)){\n\t\t\t\t$.books[id]=Object.assign({},temp)\n\t\t\t\tcount++\n\t\t\t\t}\n\t\t\ttemp.id=id\n\t\t\tbooklist.push(temp)\n\t\t\t})\n\t\tif (count>0){\n\t\t\tjava.toast(`\\n✅本地数据新增${count}本`)\n\t\t\tsetv($)\n\t\t\t}\n\t\t}\nJSON.stringify(booklist)\n</js>\n$[*]",
      "bookUrl": "{{toDataUrl(result.id)}}",
      "coverUrl": "{{String(getSourceKey()).replace(/www/,\"static\")}}/file/cover/{{$.cover##.*file\\/cover\\/}}",
      "intro": "&nbsp;🆔:{{$.id}} {{$.score##^(\\S)##📈评分:$1}} {{String(result.pornrate||\"\").replace(/^(\\S)/,'💗肉量:$1').replace(/\\(.*\\)/,\"\")}}\n{{$.intro##^\\n##📝 简介:}}\n🔖 标签：{{$.tags##\\s##,}}\n{{$.update##^(\\s*\\S)##🕰 更新：$1}}",
      "kind": "$.tags&&$.category&&$.status&&$.update",
      "lastChapter": "",
      "name": "$.name",
      "wordCount": "$.word"
    },
    "ruleSearch": {
      "author": "{{baseUrl.match(/\\/e\\//)?java.getString('span@text'):\"\"}}{{$.author||\"\"}}",
      "bookList": "<js>\njava.log(baseUrl)\nif(baseUrl==\"http://localhost/\"){\n\t[key, page, sortType] = String(java.hexDecodeToString(result)).split(\"|==|\")\n\tif (/^(author|category|id|intro|name|pornrate|score|status|tags|update|word|all)[:]/.test(key)) {\n\t\t[type,key]=key.split(/:([\\w\\W]+)?/,2)\n\t} else {\n\t\t[key, page] = String(java.hexDecodeToString(result)).split(\"|==|\")\n\t\ttype=\"name\"\n\t}\n\t$=checkData()\n\tbooks=$.books\n\tbooklist=[]\n\tfor (let i in books) {\n\t\tbooks[i][\"id\"]=i\n\t\ttype == \"all\" ? Object.defineProperty(books[i], 'all', {\n\t\t\tget: function(){\n\t\t\t\treturn JSON.stringify(this)\n\t\t\t}\n\t\t}) : \"\"\n\t\tbooklist.push(books[i])\n\t}\n\tRegkey=createRegExp(key)\n\tbooklist = booklist.filter(b => String(b[type]).match(Regkey))\n\tif(/(pornrate|score|update|word)/.test($.sortType)||sortType) {\n\t\tst = sortType || $.sortType\n\t\tbooklist.sort((a, b) => getSortValue(a, st)-getSortValue(b, st))\n\t}\n if (!$.order) {\n \tbooklist.reverse()\n \t}\n \tif (booklist.length>0&&page==0) java.toast(`\\n✅成功获取${booklist.length}本书籍\\n当前为按${$.sortType==\"pornrate\"?\"肉量\":($.sortType==\"score\"?\"评分\":($.sortType==\"word\"?\"字数\":($.sortType==\"update\"?\"更新\":\"ID\")))}${$.order?\"⬆️正\":\"⬇️倒\"}序排列`)\n \telse if ((!booklist.length>0)&&page==0) java.toast(\"\\n❎本地数据未找到，请切换搜索接口\")\n \tbooklist=getl(booklist,page);\n \tjava.setContent(JSON.stringify(booklist))\n \tresult=java.getElements(\"$[*]\")\n}else result=java.getElements(\".book-like a||.grid-item\")\n</js>",
      "bookUrl": "{{id=baseUrl==\"http://localhost/\"?result.id:String(java.getString(\"@href||a.0@href\")).match(/book\\/(\\d+)/)[1];toDataUrl(id)}}",
      "checkKeyWord": "name:我的",
      "coverUrl": "{{String(getSourceKey()).replace(/www/,\"static\")}}/file/cover/{{$.cover##.*file\\/cover\\/}}{{@img@src||\"\"##.*file\\/cover\\/}}",
      "intro": "&nbsp;🆔:{{$.id||\"\"}}{{@href||a.0@href||\"\"##\\D}} {{$.score##^(\\S)##📈评分:$1}} {{String(result.pornrate||\"\").replace(/^(\\S)/,'💗肉量:$1').replace(/\\(.*\\)/,\"\")}}\n{{$.intro##^(\\s*\\S)##📝 简介:$1}}\n{{Array.from(result.tags).join(\",\").replace(/^(\\s*\\S)/,'🔖 标签：$1')}}\n{{$.update##^(\\s*\\S)##🕰 更新：$1}}",
      "kind": "$.tags&&$.category&&$.status&&$.update",
      "name": "{{@h4@text||h3@text||\"\"}}{{$.name||\"\"}}",
      "wordCount": "$.word"
    },
    "ruleToc": {
      "chapterList": "<js>\nid=String(java.hexDecodeToString(result)).split(\"|==|\")[0]\nif (Date.now() - book.lastCheckTime > 10000){\n\tjava.log('更新目录');\n\tjava.refreshTocUrl();\n}\nresult=readFile(`/book/${id}/index.html`)\nlet e = org.jsoup.Jsoup.parse(result);\nlet chapters = e.select(\".book-chapter a\");\nlet chapterData = [];\nlet chapterNumber = 0;\nif (book.getVariable(\"custom\") != \"\") {\n\t   java.toast(\"\\n✅目录乱序修复已开启\")\n\t   chapterData=chapters.toArray().map((item) => {\n        let title = item.text()\n        let chapterNumberMatch = title.match(/第(\\d+)(-\\d+)?章/);\n        if (chapterNumberMatch) {\n            chapterNumber = parseInt(chapterNumberMatch[1], 10);\n        }\n        item.id(chapterNumber)\n        return item\n    });\n    chapterData.sort((a, b) => a.id() - b.id());\n} else {\n    chapterData = chapters;\n}\nchapterData\n</js>",
      "chapterName": "text",
      "chapterUrl": "{{toDataUrl(java.getString('href'))}}",
      "preUpdateJs": ""
    },
    "searchUrl": "{{cookie.removeCookie(source.getKey());eval(String(source.bookSourceComment))}}",
    "weight": 0
  }
]